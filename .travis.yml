language: cpp
compiler:
  - gcc

before_script:
    - mkdir build
    - cd build
    - sudo apt-get update -qq
    - sudo apt-get install swig python-dev cmake
    - wget https://github.com/google/googletest/archive/release-1.7.0.tar.gz -O gtest-1.7.0.tar.gz
    - tar xf gtest-1.7.0.tar.gz
    - mkdir gtest.build && cd gtest.build
    - cmake ../googletest-release-1.7.0  -DBUILD_SHARED_LIBS=ON  && make
    - sudo make install

script: cmake -DCMAKE_INSTALL_PREFIX=../../install .. && make && ctest
